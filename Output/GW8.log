----------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\willi\Documents\PLCY460\Output\GW8.log
  log type:  text
 opened on:   2 Oct 2020, 15:20:57

. use "C:\Users\willi\Documents\PLCY460\Master Data\groupwork8"

. * Group Work 8
. 
. *8A clean data to only married with spouse
. keep if  r10mstat == 1
(24,723 observations deleted)

. 
. *8B  coefficient from regression
. reg  r10iearn  raedyrs s10iearn r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  1.9076e+12         3  6.3588e+11   Prob > F        =    0.0000
    Residual |  2.1743e+13    11,277  1.9281e+09   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.3650e+13    11,280  2.0967e+09   Root MSE        =     43910

------------------------------------------------------------------------------
    r10iearn |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |   1993.803   158.0973    12.61   0.000     1683.904    2303.701
    s10iearn |   .1320071   .0092883    14.21   0.000     .1138005    .1502137
   r10nsscre |    143.494    10.9967    13.05   0.000     121.9386    165.0495
       _cons |  -79531.48   4884.608   -16.28   0.000    -89106.16   -69956.79
------------------------------------------------------------------------------

. *B0= -79531.48 B1=1993.80 B2=.132 B3= 143.49
. *years of education (b1) and Iq score (b3) matter the most
. 
. *8C SE for spouse income
. reg s10iearn raedyrs r10nsscre if e(sample) ==1

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(2, 11278)     =    221.84
       Model |  8.7919e+11         2  4.3960e+11   Prob > F        =    0.0000
    Residual |  2.2349e+13    11,278  1.9816e+09   R-squared       =    0.0379
-------------+----------------------------------   Adj R-squared   =    0.0377
       Total |  2.3228e+13    11,280  2.0592e+09   Root MSE        =     44515

------------------------------------------------------------------------------
    s10iearn |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |    1722.46   159.4554    10.80   0.000       1409.9    2035.021
   r10nsscre |   118.9136   11.09202    10.72   0.000     97.17136    140.6559
       _cons |  -60783.48   4918.801   -12.36   0.000    -70425.18   -51141.77
------------------------------------------------------------------------------

. sum s10iearn if e(sample)==1

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
    s10iearn |     11,281    21273.21    45378.44          0    1400000

. * se = sqrt( 1928100000/((11281-1)*45378.44(1-.0379)))
. *se= 1.98
.  
. * the following conversion rates were done on Oct 2nd 2020
. *assuming starting currency is USD
. *8D 
. gen yeninc = 105.36*r10iearn

. reg  yeninc  raedyrs s10iearn r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  2.1176e+16         3  7.0587e+15   Prob > F        =    0.0000
    Residual |  2.4136e+17    11,277  2.1403e+13   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.6254e+17    11,280  2.3274e+13   Root MSE        =    4.6e+06

------------------------------------------------------------------------------
      yeninc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |     210067   16657.13    12.61   0.000     177416.2    242717.9
    s10iearn |   13.90827   .9786102    14.21   0.000     11.99002    15.82651
   r10nsscre |   15118.53   1158.612    13.05   0.000     12847.45    17389.61
       _cons |   -8379436   514642.3   -16.28   0.000     -9388225    -7370648
------------------------------------------------------------------------------

. *coefficients(slope) all changed and standard error did as well  proprtionately 
> by the conversion rate multiplier of 105.36
. 
. *8E
. gen mpesoSinc = 21.65*s10iearn

. reg  r10iearn  raedyrs mpesoSinc r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  1.9076e+12         3  6.3588e+11   Prob > F        =    0.0000
    Residual |  2.1743e+13    11,277  1.9281e+09   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.3650e+13    11,280  2.0967e+09   Root MSE        =     43910

------------------------------------------------------------------------------
    r10iearn |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |   1993.803   158.0973    12.61   0.000     1683.904    2303.701
   mpesoSinc |   .0060973    .000429    14.21   0.000     .0052564    .0069383
   r10nsscre |    143.494    10.9967    13.05   0.000     121.9386    165.0495
       _cons |  -79531.48   4884.608   -16.28   0.000    -89106.16   -69956.79
------------------------------------------------------------------------------

. * only spouise data changed and is now smaller, this would impact the SE in the 
> same way by a factor of 21.65
. 
. *8F
. reg  yeninc  raedyrs mpesoSinc r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  2.1176e+16         3  7.0587e+15   Prob > F        =    0.0000
    Residual |  2.4136e+17    11,277  2.1403e+13   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.6254e+17    11,280  2.3274e+13   Root MSE        =    4.6e+06

------------------------------------------------------------------------------
      yeninc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |     210067   16657.13    12.61   0.000     177416.2    242717.9
   mpesoSinc |   .6424142   .0452014    14.21   0.000     .5538116    .7310168
   r10nsscre |   15118.53   1158.612    13.05   0.000     12847.45    17389.61
       _cons |   -8379436   514642.3   -16.28   0.000     -9388225    -7370648
------------------------------------------------------------------------------

. *regression above depicts change to SE and slope it changes by a combinatiuon of
>  the added coeficient conversion rate
. 
. *8G
. gen yenSinc = 105.36*s10iearn

. gen mpesoinc = 21.65*r10iearn

. reg  yeninc  raedyrs yenSinc r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  2.1176e+16         3  7.0587e+15   Prob > F        =    0.0000
    Residual |  2.4136e+17    11,277  2.1403e+13   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.6254e+17    11,280  2.3274e+13   Root MSE        =    4.6e+06

------------------------------------------------------------------------------
      yeninc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |     210067   16657.13    12.61   0.000     177416.2    242717.9
     yenSinc |   .1320071   .0092883    14.21   0.000     .1138005    .1502137
   r10nsscre |   15118.53   1158.612    13.05   0.000     12847.45    17389.61
       _cons |   -8379436   514642.3   -16.28   0.000     -9388225    -7370648
------------------------------------------------------------------------------

. reg  mpesoinc  raedyrs mpesoSinc r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  8.9415e+14         3  2.9805e+14   Prob > F        =    0.0000
    Residual |  1.0191e+16    11,277  9.0372e+11   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  1.1085e+16    11,280  9.8275e+11   Root MSE        =    9.5e+05

------------------------------------------------------------------------------
    mpesoinc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |   43165.83   3422.807    12.61   0.000     36456.53    49875.12
   mpesoSinc |   .1320071   .0092883    14.21   0.000     .1138005    .1502137
   r10nsscre |   3106.646   238.0785    13.05   0.000      2639.97    3573.321
       _cons |   -1721856   105751.8   -16.28   0.000     -1929148    -1514565
------------------------------------------------------------------------------

. *changes directly by the conversion rate for each.
. 
. * I believe these regressions are showing it mathematically for both the coef an
> d SE 
. 
. 
. *******         8.2         *******
. * Continuing using the data being still cleaned
. reg  r10iearn  raedyrs s10iearn r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  1.9076e+12         3  6.3588e+11   Prob > F        =    0.0000
    Residual |  2.1743e+13    11,277  1.9281e+09   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.3650e+13    11,280  2.0967e+09   Root MSE        =     43910

------------------------------------------------------------------------------
    r10iearn |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |   1993.803   158.0973    12.61   0.000     1683.904    2303.701
    s10iearn |   .1320071   .0092883    14.21   0.000     .1138005    .1502137
   r10nsscre |    143.494    10.9967    13.05   0.000     121.9386    165.0495
       _cons |  -79531.48   4884.608   -16.28   0.000    -89106.16   -69956.79
------------------------------------------------------------------------------

. set seed 123456

. gen normaldist =rnormal()

. sum normaldist

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
  normaldist |     12,772    .0046594     1.00626  -4.025849   3.872868

. kdensity normaldist

. gen  inaccdep = r10iearn +10*rnormal()

. reg inaccdep raedyrs s10iearn r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    329.80
       Model |  1.9076e+12         3  6.3587e+11   Prob > F        =    0.0000
    Residual |  2.1743e+13    11,277  1.9281e+09   R-squared       =    0.0807
-------------+----------------------------------   Adj R-squared   =    0.0804
       Total |  2.3650e+13    11,280  2.0967e+09   Root MSE        =     43910

------------------------------------------------------------------------------
    inaccdep |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     raedyrs |    1993.79   158.0975    12.61   0.000     1683.891    2303.689
    s10iearn |   .1320059   .0092883    14.21   0.000     .1137992    .1502125
   r10nsscre |   143.4927   10.99672    13.05   0.000     121.9372    165.0482
       _cons |  -79530.53   4884.616   -16.28   0.000    -89105.22   -69955.83
------------------------------------------------------------------------------

. gen inaccind =raedyrs +10*rnormal()
(61 missing values generated)

. reg r10iearn  inaccind s10iearn r10nsscre

      Source |       SS           df       MS      Number of obs   =    11,281
-------------+----------------------------------   F(3, 11277)     =    276.00
       Model |  1.6177e+12         3  5.3923e+11   Prob > F        =    0.0000
    Residual |  2.2033e+13    11,277  1.9538e+09   R-squared       =    0.0684
-------------+----------------------------------   Adj R-squared   =    0.0682
       Total |  2.3650e+13    11,280  2.0967e+09   Root MSE        =     44201

------------------------------------------------------------------------------
    r10iearn |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    inaccind |   117.2454   40.10186     2.92   0.003     38.63877     195.852
    s10iearn |   .1430427   .0093062    15.37   0.000      .124801    .1612845
   r10nsscre |   204.0866   9.889471    20.64   0.000     184.7015    223.4717
       _cons |  -85387.89   4893.535   -17.45   0.000    -94980.08   -75795.71
------------------------------------------------------------------------------

. 
. *1. coeeficients stay the same but R2 decreases
. *2. this creates attenuation bias that decreases the coeeficient 
. *3. it is worse for the independewnt variable to have an error because it causes
>  the coefficient to decreasde towards zero
. 
end of do-file

. save "C:\Users\willi\Documents\PLCY460\Cleaned Data\GW8-Cleaned.dta"
file C:\Users\willi\Documents\PLCY460\Cleaned Data\GW8-Cleaned.dta saved

. exit
